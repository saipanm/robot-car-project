# robot-car-project

โปรเจกต์นี้เป็นระบบควบคุมรถหุ่นยนต์ผ่านการใช้งาน RESTful API ด้วย Flask โดย Raspberry Pi จะทำหน้าที่รับข้อมูลจาก ESP8266 ผ่านการสื่อสารแบบ Serial และยังมี Webapp สำหรับควบคุมการเคลื่อนที่ของหุ่นยนต์ ซึ่งพัฒนาโดยใช้ React สำหรับ Frontend และ Flask สำหรับ Backend

## System Diagram
![image](/readme-picture/system-diagram.png)

## หลักการทำงานของระบบ

- **ผู้ใช้งาน (User)**:
    - ผู้ใช้งานสามารถส่งคำสั่งผ่าน Web Application ที่เข้าถึงได้ผ่านเครือข่าย Local Network ซึ่งเชื่อมต่อกับ Raspberry Pi ที่ทำหน้าที่เป็นตัวควบคุมหุ่นยนต์
    - สามารถควบคุมทิศทางการเคลื่อนที่ของหุ่นยนต์แบบเรียลไทม์ผ่าน UI ที่ออกแบบด้วย React

- **แอปพลิเคชันเว็บ (Web Application)**:
    - **React**: ใช้พัฒนา Frontend ของ Web Application เพื่อสร้าง UI ที่ใช้งานง่าย พร้อมแสดงข้อมูลเรียลไทม์จาก WebSocket
    - **Node.js**: ใช้เป็น Backend เซิร์ฟเวอร์ของแอปพลิเคชัน ซึ่งจัดการคำสั่งของผู้ใช้และสื่อสารกับ Raspberry Pi ผ่าน REST API
    - **WebSocket (WSS)**: สำหรับสตรีมวิดีโอแบบเรียลไทม์จากกล้องบนหุ่นยนต์ไปยังแอปพลิเคชันเว็บ ทำให้ผู้ใช้งานสามารถติดตามภาพสดได้ขณะควบคุมหุ่นยนต์

- **Raspberry Pi (Upper Level)**:
    - **Flask REST API**: Raspberry Pi ทำหน้าที่เป็นตัวควบคุมหลัก โดยใช้ Flask สร้าง REST API สำหรับรับคำสั่งจาก Web Application แล้วส่งต่อไปยัง ESP8266 ผ่าน Serial Communication
    - **WebSocket**: Raspberry Pi ยังทำหน้าที่ส่งสัญญาณภาพวิดีโอแบบเรียลไทม์จาก WebCam กลับไปยัง Web Application เพื่อให้ผู้ใช้งานสามารถติดตามสถานะของหุ่นยนต์ได้

- **ESP8266 (Lower Level)**:
    - ESP8266 รับคำสั่งควบคุมจาก Raspberry Pi ผ่าน Serial และแปลงคำสั่งเป็นสัญญาณควบคุมเพื่อส่งไปยังมอเตอร์ไดรเวอร์ L298N เพื่อควบคุมมอเตอร์

- **Motor Driver (L298N)**:
    - L298N Motor Driver ทำหน้าที่ควบคุมมอเตอร์ซ้ายและขวา โดยใช้สัญญาณควบคุมจาก ESP8266 เพื่อเปลี่ยนทิศทางของมอเตอร์ เช่น เดินหน้า ถอยหลัง หรือหยุด

- **มอเตอร์ (Motors)**:
    - มอเตอร์ซ้ายและขวาจะเคลื่อนที่ตามสัญญาณจากมอเตอร์ไดรเวอร์ เพื่อให้หุ่นยนต์สามารถเปลี่ยนทิศทางและเคลื่อนที่ตามคำสั่งที่กำหนด

- **WebCam**:
    - WebCam เชื่อมต่อกับ Raspberry Pi เพื่อบันทึกและถ่ายทอดภาพสดไปยัง Web Application ผ่าน WebSocket ทำให้ผู้ใช้งานสามารถติดตามสถานะของหุ่นยนต์ได้แบบเรียลไทม์

## สรุปการทำงานของระบบ

ระบบนี้ทำงานผ่านการเชื่อมต่อใน Local Network โดยคำสั่งควบคุมจาก Web Application ที่พัฒนาด้วย React และ Node.js จะถูกส่งผ่าน REST API ไปยัง Raspberry Pi ซึ่งจะทำหน้าที่ส่งคำสั่งต่อไปยัง ESP8266 ผ่าน Serial Communication โดยใช้ขา RX และ TX เพื่อให้ ESP8266 ส่งสัญญาณควบคุมไปยังมอเตอร์ไดรเวอร์และมอเตอร์ ขณะเดียวกัน ภาพสดจาก WebCam จะถูกสตรีมกลับมายัง Web Application ผ่าน WebSocket เพื่อให้ผู้ใช้งานสามารถเห็นภาพการทำงานของหุ่นยนต์ได้แบบเรียลไทม์

---

### Step การตั้งค่าระบบบน Raspberry Pi 4

สามารถดูขั้นตอนการตั้งค่าเพิ่มเติมสำหรับโปรเจกต์นี้ได้ที่ [README.md ของ Backend](/back-end/README.md)

### Step การใช้งานโค้ด ESP บน ESP8266

สามารถดูรายละเอียดการใช้งานและการพัฒนาโค้ดสำหรับ ESP ได้ที่ [README.md ของ ESP Code](/esp-code/README.md)

### Step การตั้งค่า Web Application บน Raspberry Pi 4

สามารถดูขั้นตอนการตั้งค่าและการใช้งานสำหรับ Web Application ได้ที่ [README.md ของ Web Application](/robot-webapp/README.md)

---




